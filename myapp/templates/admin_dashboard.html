{% extends "base.html" %}
{% load static %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="container-fluid mt-4 px-4">


  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="fw-bold text-primary">
       Admin Dashboard
    </h3>

    <span class="badge bg-primary rounded-pill px-4 py-2 shadow-sm">
      Student Management
    </span>
  </div>


  <div class="row g-4 mb-4">
    <div class="col-md-4">
      <div class="card border-0 shadow-lg rounded-4">
        <div class="card-body d-flex align-items-center">
          <div class="me-3 fs-1 text-primary">
            <i class="bi bi-people-fill"></i>
          </div>
          <div>
            <a class=" text-decoration-none" href="{% url 'admin_course_list' %}">Courses</a>
            <h3 class="fw-bold mb-0">{{ course|length}}</h3>
          </div>
        </div>
      </div>
    </div>
  </div>

    <div class="row g-4 mb-4">
    <div class="col-md-4">
      <div class="card border-0 shadow-lg rounded-4">
        <div class="card-body d-flex align-items-center">
          <div class="me-3 fs-1 text-primary">
            <i class="bi bi-people-fill"></i>
          </div>
          <div>
            <p class="text-muted mb-1">Total Students</p>
            <h3 class="fw-bold mb-0">{{ students|length }}</h3>
          </div>
        </div>
      </div>
    </div>
  </div>

 
  <div class="card border-0 shadow-lg rounded-4">
    
    <div class="card-header bg-dark text-white rounded-top-4">
      <h5 class="mb-0">
        Student List
      </h5>
    </div>

    <div class="card-body p-0">

      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          
          <thead class="table-light">
            <tr>
              <th>#</th>
              <th>Username</th>
              <th>Email</th>
              <th>Roll No</th>
              <th>Education</th>
              <th>Year</th>
              <th class="text-center">Actions</th>
            </tr>
          </thead>

          <tbody>
            {% for student in students %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td class="fw-semibold">{{ student.username }}</td>
              <td>{{ student.email }}</td>
              <td>{{ student.student_profile.roll_number|default:"-" }}</td>
              <td>{{ student.student_profile.education|default:"-" }}</td>
              <td>{{ student.student_profile.year_of_admission|default:"-" }}</td>
              
              <td class="text-center">
                <a href="{% url 'admin_student_edit' student.id %}"
                   class="btn btn-sm btn-outline-primary rounded-pill me-1">
                  <i class="bi bi-pencil-square"></i>
                </a>

                <a href="{% url 'admin_student_delete' student.id %}"
                   class="btn btn-sm btn-outline-danger rounded-pill"
                   onclick="return confirm('Are you sure you want to delete this student?')">
                  <i class="bi bi-trash"></i>
                </a>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="7" class="text-center text-muted py-4">
                <i class="bi bi-inbox fs-4 d-block mb-2"></i>
                No students found
              </td>
            </tr>
            {% endfor %}
          </tbody>

        </table>
      </div>

    </div>
  </div>

</div>
{% endblock %}
